{"ast":null,"code":"import _asyncToGenerator from \"/Users/mozartcatrina/Desktop/jorgito/registrApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component, Input, inject } from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\nlet HomePage = class HomePage {\n  constructor() {\n    var _this = this;\n    this.firebaseSvc = inject(FirebaseService);\n    this.utilsSvc = inject(UtilsService);\n    this.divPhoto = false;\n    this.hrefUrl = \"\";\n    this.setDivPhoto = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (b) {\n        return _this.divPhoto = b;\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n  ngOnInit() {}\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\"\n    });\n  }\n  takeImage() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.setDivPhoto(true);\n      _this2.delay(1000).then(() => {\n        _this2.html5QrcodeScanner = new Html5QrcodeScanner(\"reader\", {\n          fps: 30,\n          qrbox: {\n            width: 250,\n            height: 250\n          }\n        }, /* verbose= */false);\n        _this2.html5QrcodeScanner.render(_this2.onScanSuccess, _this2.onScanFailure);\n      });\n    })();\n  }\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n  onScanSuccess(decodedText, decodedResult) {\n    document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n    console.log(decodedText);\n    console.log(decodedResult);\n    this.hrefUrl = decodedText;\n    console.log(this.hrefUrl);\n    //console.log(document.getElementById(\"#hrefUrl\"));\n    //document.getElementById(\"#hrefUrl\").click();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n  delay(time) {\n    return new Promise(resolve => setTimeout(resolve, time));\n  }\n};\n__decorate([Input()], HomePage.prototype, \"hrefUrl\", void 0);\nHomePage = __decorate([Component({\n  selector: \"app-home\",\n  templateUrl: \"./home.page.html\",\n  styleUrls: [\"./home.page.scss\"]\n})], HomePage);\nexport { HomePage };","map":{"version":3,"names":["Component","Input","inject","FirebaseService","UtilsService","AddUpdateStudentsComponent","Html5QrcodeScanner","HomePage","constructor","_this","firebaseSvc","utilsSvc","divPhoto","hrefUrl","setDivPhoto","_ref","_asyncToGenerator","b","_x","apply","arguments","ngOnInit","signOut","addUpdateStudnets","presentModal","component","cssClass","takeImage","_this2","delay","then","html5QrcodeScanner","fps","qrbox","width","height","render","onScanSuccess","onScanFailure","routerlinkIntro","routerLink","decodedText","decodedResult","document","getElementById","click","console","log","error","warn","time","Promise","resolve","setTimeout","__decorate","selector","templateUrl","styleUrls"],"sources":["/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/main/home/home.page.ts"],"sourcesContent":["import {\n  Component,\n  Inject,\n  Injectable,\n  Input,\n  OnInit,\n  inject,\n} from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"./home.page.html\",\n  styleUrls: [\"./home.page.scss\"],\n})\nexport class HomePage implements OnInit {\n  firebaseSvc = inject(FirebaseService);\n  utilsSvc = inject(UtilsService);\n  divPhoto: boolean = false;\n  html5QrcodeScanner: Html5QrcodeScanner;\n  @Input() hrefUrl: string = \"\";\n\n  ngOnInit(): void {}\n\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\",\n    });\n  }\n\n  public async takeImage() {\n    this.setDivPhoto(true);\n    this.delay(1000).then(() => {\n      this.html5QrcodeScanner = new Html5QrcodeScanner(\n        \"reader\",\n        { fps: 30, qrbox: { width: 250, height: 250 } },\n        /* verbose= */ false\n      );\n      this.html5QrcodeScanner.render(this.onScanSuccess, this.onScanFailure);\n    });\n  }\n\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n\n  onScanSuccess(decodedText, decodedResult) {\n    document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n    console.log(decodedText);\n    console.log(decodedResult);\n    this.hrefUrl = decodedText;\n    console.log(this.hrefUrl);\n    //console.log(document.getElementById(\"#hrefUrl\"));\n    //document.getElementById(\"#hrefUrl\").click();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n\n  private setDivPhoto = async (b: boolean) => (this.divPhoto = b);\n\n  delay(time) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n}\n"],"mappings":";;AAAA,SACEA,SAAS,EAGTC,KAAK,EAELC,MAAM,QACD,eAAe;AACtB,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,YAAY,QAAQ,gCAAgC;AAC7D,SAASC,0BAA0B,QAAQ,6EAA6E;AACxH,SAASC,kBAAkB,QAAQ,cAAc;AAOjD,IAAaC,QAAQ,GAArB,MAAaA,QAAQ;EAArBC,YAAA;IAAA,IAAAC,KAAA;IACE,KAAAC,WAAW,GAAGR,MAAM,CAACC,eAAe,CAAC;IACrC,KAAAQ,QAAQ,GAAGT,MAAM,CAACE,YAAY,CAAC;IAC/B,KAAAQ,QAAQ,GAAY,KAAK;IAEhB,KAAAC,OAAO,GAAW,EAAE;IA6CrB,KAAAC,WAAW;MAAA,IAAAC,IAAA,GAAAC,iBAAA,CAAG,WAAOC,CAAU;QAAA,OAAMR,KAAI,CAACG,QAAQ,GAAGK,CAAC;MAAA,CAAC;MAAA,iBAAAC,EAAA;QAAA,OAAAH,IAAA,CAAAI,KAAA,OAAAC,SAAA;MAAA;IAAA;EAKjE;EAhDEC,QAAQA,CAAA,GAAU;EAElBC,OAAOA,CAAA;IACL,IAAI,CAACZ,WAAW,CAACY,OAAO,EAAE;EAC5B;EAEAC,iBAAiBA,CAAA;IACf,IAAI,CAACZ,QAAQ,CAACa,YAAY,CAAC;MACzBC,SAAS,EAAEpB,0BAA0B;MACrCqB,QAAQ,EAAE;KACX,CAAC;EACJ;EAEaC,SAASA,CAAA;IAAA,IAAAC,MAAA;IAAA,OAAAZ,iBAAA;MACpBY,MAAI,CAACd,WAAW,CAAC,IAAI,CAAC;MACtBc,MAAI,CAACC,KAAK,CAAC,IAAI,CAAC,CAACC,IAAI,CAAC,MAAK;QACzBF,MAAI,CAACG,kBAAkB,GAAG,IAAIzB,kBAAkB,CAC9C,QAAQ,EACR;UAAE0B,GAAG,EAAE,EAAE;UAAEC,KAAK,EAAE;YAAEC,KAAK,EAAE,GAAG;YAAEC,MAAM,EAAE;UAAG;QAAE,CAAE,EAC/C,cAAe,KAAK,CACrB;QACDP,MAAI,CAACG,kBAAkB,CAACK,MAAM,CAACR,MAAI,CAACS,aAAa,EAAET,MAAI,CAACU,aAAa,CAAC;MACxE,CAAC,CAAC;IAAC;EACL;EAEAC,eAAeA,CAAA;IACb,IAAI,CAAC5B,QAAQ,CAAC6B,UAAU,CAAC,aAAa,CAAC;EACzC;EAEAH,aAAaA,CAACI,WAAW,EAAEC,aAAa;IACtCC,QAAQ,CAACC,cAAc,CAAC,iCAAiC,CAAC,CAACC,KAAK,EAAE;IAClEC,OAAO,CAACC,GAAG,CAACN,WAAW,CAAC;IACxBK,OAAO,CAACC,GAAG,CAACL,aAAa,CAAC;IAC1B,IAAI,CAAC7B,OAAO,GAAG4B,WAAW;IAC1BK,OAAO,CAACC,GAAG,CAAC,IAAI,CAAClC,OAAO,CAAC;IACzB;IACA;EACF;;EAEAyB,aAAaA,CAACU,KAAK;IACjBF,OAAO,CAACG,IAAI,CAAC,qBAAqBD,KAAK,EAAE,CAAC;EAC5C;EAIAnB,KAAKA,CAACqB,IAAI;IACR,OAAO,IAAIC,OAAO,CAAEC,OAAO,IAAKC,UAAU,CAACD,OAAO,EAAEF,IAAI,CAAC,CAAC;EAC5D;CACD;AAlDUI,UAAA,EAARrD,KAAK,EAAE,C,wCAAsB;AALnBM,QAAQ,GAAA+C,UAAA,EALpBtD,SAAS,CAAC;EACTuD,QAAQ,EAAE,UAAU;EACpBC,WAAW,EAAE,kBAAkB;EAC/BC,SAAS,EAAE,CAAC,kBAAkB;CAC/B,CAAC,C,EACWlD,QAAQ,CAuDpB;SAvDYA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}