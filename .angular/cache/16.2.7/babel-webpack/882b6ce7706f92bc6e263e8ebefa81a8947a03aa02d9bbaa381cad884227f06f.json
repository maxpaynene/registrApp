{"ast":null,"code":"import _asyncToGenerator from \"/Users/mozartcatrina/Desktop/jorgito/registrApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate, __param } from \"tslib\";\nimport { Component, Inject, inject } from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\nlet HomePage = class HomePage {\n  constructor(firebaseSvc = inject(FirebaseService), utilsSvc = inject(UtilsService), divPhoto = false, html5QrcodeScanner, hrefUrl) {\n    var _this = this;\n    this.firebaseSvc = firebaseSvc;\n    this.utilsSvc = utilsSvc;\n    this.divPhoto = divPhoto;\n    this.html5QrcodeScanner = html5QrcodeScanner;\n    this.hrefUrl = hrefUrl;\n    this.setDivPhoto = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (b) {\n        return _this.divPhoto = b;\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n  ngOnInit() {}\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\"\n    });\n  }\n  takeImage() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.setDivPhoto(true);\n      _this2.delay(1000).then(() => {\n        _this2.html5QrcodeScanner = new Html5QrcodeScanner(\"reader\", {\n          fps: 30,\n          qrbox: {\n            width: 250,\n            height: 250\n          }\n        }, /* verbose= */false);\n        _this2.html5QrcodeScanner.render(_this2.onScanSuccess, _this2.onScanFailure);\n      });\n    })();\n  }\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n  onScanSuccess(decodedText, decodedResult) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      console.log(decodedText.toString());\n      _this3.hrefUrl = decodedText === null || decodedText === void 0 ? void 0 : decodedText.toString();\n      console.log(_this3.hrefUrl);\n      document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n      //console.log(document.getElementById(\"#hrefUrl\"));\n      //document.getElementById(\"#hrefUrl\").click();\n    })();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n  delay(time) {\n    return new Promise(resolve => setTimeout(resolve, time));\n  }\n};\nHomePage = __decorate([Component({\n  selector: \"app-home\",\n  templateUrl: \"./home.page.html\",\n  styleUrls: [\"./home.page.scss\"]\n}), Inject, __param(0, Inject(\"firebaseSvc\")), __param(1, Inject(\"utilsSvc\")), __param(4, Inject(\"hrefUrl\"))], HomePage);\nexport { HomePage };","map":{"version":3,"names":["Component","Inject","inject","FirebaseService","UtilsService","AddUpdateStudentsComponent","Html5QrcodeScanner","HomePage","constructor","firebaseSvc","utilsSvc","divPhoto","html5QrcodeScanner","hrefUrl","_this","setDivPhoto","_ref","_asyncToGenerator","b","_x","apply","arguments","ngOnInit","signOut","addUpdateStudnets","presentModal","component","cssClass","takeImage","_this2","delay","then","fps","qrbox","width","height","render","onScanSuccess","onScanFailure","routerlinkIntro","routerLink","decodedText","decodedResult","_this3","console","log","toString","document","getElementById","click","error","warn","time","Promise","resolve","setTimeout","__decorate","selector","templateUrl","styleUrls","__param"],"sources":["/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/main/home/home.page.ts"],"sourcesContent":["import { Component, Inject, Injectable, OnInit, inject } from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"./home.page.html\",\n  styleUrls: [\"./home.page.scss\"],\n})\n@Inject\nexport class HomePage implements OnInit {\n  constructor(\n    @Inject(\"firebaseSvc\") public firebaseSvc = inject(FirebaseService),\n    @Inject(\"utilsSvc\") public utilsSvc = inject(UtilsService),\n    public divPhoto = false,\n    public html5QrcodeScanner: Html5QrcodeScanner,\n    @Inject(\"hrefUrl\") public hrefUrl: string\n  ) {}\n\n  ngOnInit(): void {}\n\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\",\n    });\n  }\n\n  public async takeImage() {\n    this.setDivPhoto(true);\n    this.delay(1000).then(() => {\n      this.html5QrcodeScanner = new Html5QrcodeScanner(\n        \"reader\",\n        { fps: 30, qrbox: { width: 250, height: 250 } },\n        /* verbose= */ false\n      );\n      this.html5QrcodeScanner.render(this.onScanSuccess, this.onScanFailure);\n    });\n  }\n\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n\n  async onScanSuccess(decodedText, decodedResult) {\n    console.log(decodedText.toString());\n    this.hrefUrl = decodedText?.toString();\n    console.log(this.hrefUrl);\n    document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n    //console.log(document.getElementById(\"#hrefUrl\"));\n    //document.getElementById(\"#hrefUrl\").click();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n\n  private setDivPhoto = async (b: boolean) => (this.divPhoto = b);\n\n  delay(time) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}