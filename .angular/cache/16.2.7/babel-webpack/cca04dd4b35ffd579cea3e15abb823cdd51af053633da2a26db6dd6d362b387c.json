{"ast":null,"code":"import _asyncToGenerator from \"/Users/mozartcatrina/Desktop/jorgito/registrApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { __decorate } from \"tslib\";\nimport { Inject, inject } from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"html5-qrcode\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../../shared/components/header/header.component\";\nimport * as i5 from \"../../../shared/components/logo/logo.component\";\nfunction HomePage_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"div\", 12);\n  }\n}\nlet HomePage = (_class = class HomePage {\n  constructor(firebaseSvc = inject(FirebaseService), utilsSvc = inject(UtilsService), divPhoto = false, html5QrcodeScanner, hrefUrl) {\n    var _this = this;\n    this.firebaseSvc = firebaseSvc;\n    this.utilsSvc = utilsSvc;\n    this.divPhoto = divPhoto;\n    this.html5QrcodeScanner = html5QrcodeScanner;\n    this.hrefUrl = hrefUrl;\n    this.setDivPhoto = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (b) {\n        return _this.divPhoto = b;\n      });\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n  }\n  ngOnInit() {}\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\"\n    });\n  }\n  takeImage() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      _this2.setDivPhoto(true);\n      _this2.delay(1000).then(() => {\n        _this2.html5QrcodeScanner = new Html5QrcodeScanner(\"reader\", {\n          fps: 30,\n          qrbox: {\n            width: 250,\n            height: 250\n          }\n        }, /* verbose= */false);\n        _this2.html5QrcodeScanner.render(_this2.onScanSuccess, _this2.onScanFailure);\n      });\n    })();\n  }\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n  onScanSuccess(decodedText, decodedResult) {\n    var _this3 = this;\n    return _asyncToGenerator(function* () {\n      console.log(decodedText.toString());\n      _this3.hrefUrl = decodedText === null || decodedText === void 0 ? void 0 : decodedText.toString();\n      console.log(_this3.hrefUrl);\n      document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n      //console.log(document.getElementById(\"#hrefUrl\"));\n      //document.getElementById(\"#hrefUrl\").click();\n    })();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n  delay(time) {\n    return new Promise(resolve => setTimeout(resolve, time));\n  }\n}, _class.ɵfac = function HomePage_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(\"firebaseSvc\"), i0.ɵɵdirectiveInject(\"utilsSvc\"), i0.ɵɵdirectiveInject(\"divPhoto\"), i0.ɵɵdirectiveInject(i1.Html5QrcodeScanner), i0.ɵɵdirectiveInject(\"hrefUrl\"));\n}, _class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-home\"]],\n  decls: 22,\n  vars: 2,\n  consts: [[\"title\", \"Inicio\"], [1, \"d-flex-center\"], [\"expand\", \"block\", \"fill\", \"clear\", \"shape\", \"round\", 3, \"click\"], [\"id\", \"reader\", \"width\", \"100%\", \"height\", \"100%\", 4, \"ngIf\"], [\"ng-href\", \"hrefUrl\"], [\"slot\", \"bottom\"], [\"tab\", \"camera\", 3, \"click\"], [\"name\", \"camera\"], [\"tab\", \"generateQr\", 3, \"click\"], [\"name\", \"qr-code-outline\"], [\"tab\", \"logout\", 3, \"click\"], [\"name\", \"log-out\"], [\"id\", \"reader\", \"width\", \"100%\", \"height\", \"100%\"]],\n  template: function HomePage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header\", 0);\n      i0.ɵɵelementStart(1, \"ion-content\")(2, \"div\", 1);\n      i0.ɵɵelement(3, \"app-logo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"ion-button\", 2);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_button_click_4_listener() {\n        return ctx.routerlinkIntro();\n      });\n      i0.ɵɵtext(5, \" Api \");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(6, HomePage_div_6_Template, 1, 0, \"div\", 3);\n      i0.ɵɵelementStart(7, \"a\", 4);\n      i0.ɵɵtext(8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(9, \"ion-tab-bar\", 5)(10, \"ion-tab-button\", 6);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_10_listener() {\n        return ctx.takeImage();\n      });\n      i0.ɵɵelement(11, \"ion-icon\", 7);\n      i0.ɵɵelementStart(12, \"ion-label\");\n      i0.ɵɵtext(13, \"C\\u00E1mara\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(14, \"ion-tab-button\", 8);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_14_listener() {\n        return ctx.addUpdateStudnets();\n      });\n      i0.ɵɵelementStart(15, \"ion-label\");\n      i0.ɵɵtext(16, \"Generar QR\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(17, \"ion-icon\", 9);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"ion-tab-button\", 10);\n      i0.ɵɵlistener(\"click\", function HomePage_Template_ion_tab_button_click_18_listener() {\n        return ctx.signOut();\n      });\n      i0.ɵɵelement(19, \"ion-icon\", 11);\n      i0.ɵɵelementStart(20, \"ion-label\");\n      i0.ɵɵtext(21, \"Cerrar Sesi\\u00F3n\");\n      i0.ɵɵelementEnd()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(6);\n      i0.ɵɵproperty(\"ngIf\", ctx.divPhoto);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(ctx.hrefUrl || \"http://\");\n    }\n  },\n  dependencies: [i2.NgIf, i3.IonButton, i3.IonContent, i3.IonIcon, i3.IonLabel, i3.IonTabBar, i3.IonTabButton, i4.HeaderComponent, i5.LogoComponent],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n}), _class);\nHomePage = __decorate([Inject], HomePage);\nexport { HomePage };","map":{"version":3,"names":["Inject","inject","FirebaseService","UtilsService","AddUpdateStudentsComponent","Html5QrcodeScanner","i0","ɵɵelement","HomePage","_class","constructor","firebaseSvc","utilsSvc","divPhoto","html5QrcodeScanner","hrefUrl","_this","setDivPhoto","_ref","_asyncToGenerator","b","_x","apply","arguments","ngOnInit","signOut","addUpdateStudnets","presentModal","component","cssClass","takeImage","_this2","delay","then","fps","qrbox","width","height","render","onScanSuccess","onScanFailure","routerlinkIntro","routerLink","decodedText","decodedResult","_this3","console","log","toString","document","getElementById","click","error","warn","time","Promise","resolve","setTimeout","ɵɵdirectiveInject","i1","selectors","decls","vars","consts","template","HomePage_Template","rf","ctx","ɵɵelementStart","ɵɵelementEnd","ɵɵlistener","HomePage_Template_ion_button_click_4_listener","ɵɵtext","ɵɵtemplate","HomePage_div_6_Template","HomePage_Template_ion_tab_button_click_10_listener","HomePage_Template_ion_tab_button_click_14_listener","HomePage_Template_ion_tab_button_click_18_listener","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","__decorate"],"sources":["/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/main/home/home.page.ts","/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/main/home/home.page.html"],"sourcesContent":["import { Component, Inject, Injectable, OnInit, inject } from \"@angular/core\";\nimport { FirebaseService } from \"src/app/services/firebase.service\";\nimport { UtilsService } from \"src/app/services/utils.service\";\nimport { AddUpdateStudentsComponent } from \"src/app/shared/components/add-update-students/add-update-students.component\";\nimport { Html5QrcodeScanner } from \"html5-qrcode\";\n\n@Component({\n  selector: \"app-home\",\n  templateUrl: \"./home.page.html\",\n  styleUrls: [\"./home.page.scss\"],\n})\n@Inject\nexport class HomePage implements OnInit {\n  constructor(\n    @Inject(\"firebaseSvc\") public firebaseSvc = inject(FirebaseService),\n    @Inject(\"utilsSvc\") public utilsSvc = inject(UtilsService),\n    @Inject(\"divPhoto\") public divPhoto = false,\n    public html5QrcodeScanner: Html5QrcodeScanner,\n    @Inject(\"hrefUrl\") public hrefUrl: string\n  ) {}\n\n  ngOnInit(): void {}\n\n  signOut() {\n    this.firebaseSvc.signOut();\n  }\n\n  addUpdateStudnets() {\n    this.utilsSvc.presentModal({\n      component: AddUpdateStudentsComponent,\n      cssClass: \"add-update-modal\",\n    });\n  }\n\n  public async takeImage() {\n    this.setDivPhoto(true);\n    this.delay(1000).then(() => {\n      this.html5QrcodeScanner = new Html5QrcodeScanner(\n        \"reader\",\n        { fps: 30, qrbox: { width: 250, height: 250 } },\n        /* verbose= */ false\n      );\n      this.html5QrcodeScanner.render(this.onScanSuccess, this.onScanFailure);\n    });\n  }\n\n  routerlinkIntro() {\n    this.utilsSvc.routerLink(\"/main/intro\");\n  }\n\n  async onScanSuccess(decodedText, decodedResult) {\n    console.log(decodedText.toString());\n    this.hrefUrl = decodedText?.toString();\n    console.log(this.hrefUrl);\n    document.getElementById(\"html5-qrcode-button-camera-stop\").click();\n    //console.log(document.getElementById(\"#hrefUrl\"));\n    //document.getElementById(\"#hrefUrl\").click();\n  }\n\n  onScanFailure(error) {\n    console.warn(`Code scan error = ${error}`);\n  }\n\n  private setDivPhoto = async (b: boolean) => (this.divPhoto = b);\n\n  delay(time) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n  }\n}\n","<app-header title=\"Inicio\"></app-header>\n\n\n<ion-content>\n\n  <div class=\"d-flex-center\">\n    <app-logo></app-logo>\n  </div>\n  \n  <ion-button (click)=\"routerlinkIntro()\" expand=\"block\" fill=\"clear\" shape=\"round\">\n    Api\n  </ion-button>\n\n</ion-content>\n\n<div *ngIf=\"divPhoto\" id=\"reader\" width=\"100%\" height=\"100%\"></div>\n<a ng-href=\"hrefUrl\">{{hrefUrl || 'http://'}}</a>\n\n<ion-tab-bar slot=\"bottom\">\n  <ion-tab-button (click)=\"takeImage()\"  tab=\"camera\">\n    <ion-icon name=\"camera\"></ion-icon>\n    <ion-label>Cámara</ion-label>\n  </ion-tab-button>\n\n  <ion-tab-button (click)=\"addUpdateStudnets()\" tab=\"generateQr\">\n    <ion-label>Generar QR</ion-label>\n    <ion-icon name=\"qr-code-outline\"></ion-icon>\n  </ion-tab-button>\n\n  <ion-tab-button (click)=\"signOut()\" tab=\"logout\">\n    <ion-icon name=\"log-out\"></ion-icon>\n    <ion-label>Cerrar Sesión</ion-label>\n  </ion-tab-button>\n</ion-tab-bar>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}