{"ast":null,"code":"import _asyncToGenerator from \"/Users/mozartcatrina/Desktop/jorgito/registrApp/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nvar _class;\nimport { inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { FirebaseService } from 'src/app/services/firebase.service';\nimport { UtilsService } from 'src/app/services/utils.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/common\";\nimport * as i2 from \"@angular/forms\";\nimport * as i3 from \"@ionic/angular\";\nimport * as i4 from \"../../../shared/components/header/header.component\";\nimport * as i5 from \"../../../shared/components/custom-input/custom-input.component\";\nimport * as i6 from \"../../../shared/components/logo/logo.component\";\nfunction ForgotPasswordPage_div_8_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"El correo es requerido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ForgotPasswordPage_div_8_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Ingrese un correo valido\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction ForgotPasswordPage_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 8);\n    i0.ɵɵtemplate(1, ForgotPasswordPage_div_8_div_1_Template, 2, 0, \"div\", 9);\n    i0.ɵɵtemplate(2, ForgotPasswordPage_div_8_div_2_Template, 2, 0, \"div\", 9);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls.email.errors == null ? null : ctx_r0.form.controls.email.errors[\"required\"]);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.form.controls.email.errors == null ? null : ctx_r0.form.controls.email.errors[\"email\"]);\n  }\n}\nclass ForgotPasswordPage {\n  constructor() {\n    this.form = new FormGroup({\n      email: new FormControl('', [Validators.required, Validators.email])\n    });\n    this.firebaseSvc = inject(FirebaseService);\n    this.utilsSvc = inject(UtilsService);\n  }\n  ngOnInit() {}\n  submit() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (_this.form.valid) {\n        const loading = yield _this.utilsSvc.loading();\n        yield loading.present();\n        _this.firebaseSvc.sendRecoveryEmail(_this.form.value.email).then(res => {\n          _this.utilsSvc.presentToast({\n            message: 'Se ha enviado un correo de recuperacion',\n            duration: 1500,\n            color: 'primary',\n            position: 'middle',\n            icon: 'mail-outline'\n          });\n          _this.utilsSvc.routerLink('/auth');\n          _this.form.reset();\n        }).catch(error => {\n          console.log(error);\n          _this.utilsSvc.presentToast({\n            message: error.message,\n            duration: 2500,\n            color: 'primary',\n            position: 'middle',\n            icon: 'alert-circle-outline'\n          });\n        }).finally(() => {\n          loading.dismiss();\n        });\n      }\n    })();\n  }\n}\n_class = ForgotPasswordPage;\n_class.ɵfac = function ForgotPasswordPage_Factory(t) {\n  return new (t || _class)();\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-forgot-password\"]],\n  decls: 12,\n  vars: 4,\n  consts: [[\"backButton\", \"/auth\", \"title\", \"Recuperar Contrase\\u00F1a\"], [1, \"d-flex-center\"], [1, \"auth-form\", 3, \"formGroup\", \"ngSubmit\", \"keypress.enter\"], [1, \"ion-text-center\"], [\"autocomplete\", \"email\", \"icon\", \"mail-outline\", \"type\", \"email\", \"label\", \"Correo\", 3, \"control\"], [\"class\", \"validators\", 4, \"ngIf\"], [\"expand\", \"block\", \"mode\", \"ios\", \"type\", \"submit\", 1, \"submit\", 3, \"disabled\"], [\"slot\", \"end\", \"name\", \"arrow-forward\"], [1, \"validators\"], [4, \"ngIf\"]],\n  template: function ForgotPasswordPage_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelement(0, \"app-header\", 0);\n      i0.ɵɵelementStart(1, \"ion-content\")(2, \"div\", 1)(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function ForgotPasswordPage_Template_form_ngSubmit_3_listener() {\n        return ctx.submit();\n      })(\"keypress.enter\", function ForgotPasswordPage_Template_form_keypress_enter_3_listener() {\n        return ctx.submit();\n      });\n      i0.ɵɵelement(4, \"app-logo\");\n      i0.ɵɵelementStart(5, \"p\", 3);\n      i0.ɵɵtext(6, \"Se te enviara un correo para recuperar tu contrase\\u00F1a\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"app-custom-input\", 4);\n      i0.ɵɵtemplate(8, ForgotPasswordPage_div_8_Template, 3, 2, \"div\", 5);\n      i0.ɵɵelementStart(9, \"ion-button\", 6);\n      i0.ɵɵtext(10, \" Recuperar \");\n      i0.ɵɵelement(11, \"ion-icon\", 7);\n      i0.ɵɵelementEnd()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.form);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"control\", ctx.form.controls.email);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.form.controls.email.errors && ctx.form.controls.email.touched);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.form.invalid);\n    }\n  },\n  dependencies: [i1.NgIf, i2.ɵNgNoValidate, i2.NgControlStatusGroup, i3.IonButton, i3.IonContent, i3.IonIcon, i4.HeaderComponent, i5.CustomInputComponent, i6.LogoComponent, i2.FormGroupDirective],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { ForgotPasswordPage };","map":{"version":3,"names":["inject","FormControl","FormGroup","Validators","FirebaseService","UtilsService","i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵtemplate","ForgotPasswordPage_div_8_div_1_Template","ForgotPasswordPage_div_8_div_2_Template","ɵɵadvance","ɵɵproperty","ctx_r0","form","controls","email","errors","ForgotPasswordPage","constructor","required","firebaseSvc","utilsSvc","ngOnInit","submit","_this","_asyncToGenerator","valid","loading","present","sendRecoveryEmail","value","then","res","presentToast","message","duration","color","position","icon","routerLink","reset","catch","error","console","log","finally","dismiss","selectors","decls","vars","consts","template","ForgotPasswordPage_Template","rf","ctx","ɵɵelement","ɵɵlistener","ForgotPasswordPage_Template_form_ngSubmit_3_listener","ForgotPasswordPage_Template_form_keypress_enter_3_listener","ForgotPasswordPage_div_8_Template","touched","invalid"],"sources":["/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/auth/forgot-password/forgot-password.page.ts","/Users/mozartcatrina/Desktop/jorgito/registrApp/src/app/pages/auth/forgot-password/forgot-password.page.html"],"sourcesContent":["import { Component, OnInit, inject } from '@angular/core';\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\nimport { User } from 'src/app/models/user.model';\nimport { FirebaseService } from 'src/app/services/firebase.service';\nimport { UtilsService } from 'src/app/services/utils.service';\n\n@Component({\n  selector: 'app-forgot-password',\n  templateUrl: './forgot-password.page.html',\n  styleUrls: ['./forgot-password.page.scss'],\n})\nexport class ForgotPasswordPage implements OnInit {\n\nform = new FormGroup({\n    email: new FormControl('', [Validators.required, Validators.email]),\n  })\n\n  firebaseSvc = inject(FirebaseService);\n  utilsSvc = inject(UtilsService);\n\n  ngOnInit() {\n  }\n\nasync submit() {\n    if (this.form.valid) {\n      const loading = await this.utilsSvc.loading();\n      await loading.present();\n\n      this.firebaseSvc.sendRecoveryEmail(this.form.value.email).then(res => {\n\n        this.utilsSvc.presentToast({\n          message: 'Se ha enviado un correo de recuperacion',\n          duration: 1500,\n          color: 'primary',\n          position: 'middle',\n          icon:'mail-outline'\n        });\n\n        this.utilsSvc.routerLink('/auth');\n        this.form.reset();\n\n\n      }).catch(error => {\n        console.log(error);\n\n        this.utilsSvc.presentToast({\n          message: error.message,\n          duration: 2500,\n          color: 'primary',\n          position: 'middle',\n          icon:'alert-circle-outline'\n        })\n\n      }).finally(() => {\n        loading.dismiss();\n      })\n    }\n\n  }\n}\n","<app-header backButton=\"/auth\" title=\"Recuperar Contraseña\"></app-header>\n<ion-content>\n<div class=\"d-flex-center\">\n  <form [formGroup]=\"form\" class=\"auth-form\" (ngSubmit)=\"submit()\" (keypress.enter)=\"submit()\">\n\n    <app-logo></app-logo>\n\n<p class=\"ion-text-center\">Se te enviara un correo para recuperar tu contraseña</p>\n\n    <app-custom-input\n     autocomplete=\"email\"\n     icon=\"mail-outline\"\n     [control]=\"form.controls.email\"\n     type=\"email\"\n     label=\"Correo\"\n     ></app-custom-input>\n    \n      <div class=\"validators\" *ngIf=\"form.controls.email.errors && form.controls.email.touched\">\n        <div *ngIf=\"form.controls.email.errors?.['required']\">El correo es requerido</div>\n        <div *ngIf=\"form.controls.email.errors?.['email']\">Ingrese un correo valido</div>\n      </div>\n\n      <ion-button expand=\"block\" mode=\"ios\" class=\"submit\" type=\"submit\" [disabled]=\"form.invalid\">\n        Recuperar\n        <ion-icon slot=\"end\" name=\"arrow-forward\"></ion-icon>\n      </ion-button>\n      \n    \n      </form>\n</div>\n\n\n</ion-content>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}